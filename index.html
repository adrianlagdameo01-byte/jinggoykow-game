<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Operation Steal Jinggoykow's Heart üíò</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    overflow:hidden;
    background:black;
    color:white;
    font-family:'Press Start 2P', cursive;
    text-align:center;
}

h1{ margin-top:20px; }

#score{
    margin-top:10px;
    font-size:16px;
}

.heart{
    position:absolute;
    font-size:35px;
    cursor:pointer;
    animation:float 6s linear forwards;
    filter: drop-shadow(0 0 10px #ff69b4)
            drop-shadow(0 0 20px #ff1493);
}

@keyframes float{
    from{ transform: translateY(100vh); }
    to{ transform: translateY(-10vh); }
}

.explosion{
    position:fixed;
    font-size:22px;
    pointer-events:none;
    animation:explode 1s ease-out forwards;
}

@keyframes explode{
    from{ transform:scale(1); opacity:1; }
    to{ transform:scale(2.5); opacity:0; }
}

#winMessage{
    display:none;
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    background:#111;
    border:2px solid hotpink;
    padding:25px;
    border-radius:15px;
}
</style>
</head>

<body>

<h1>Operation Steal Jinggoykow's Heart üíò</h1>
<div id="score">Hearts: 0 / 14</div>

<div id="winMessage">
    <h2>üíñ You Stole My Heart üíñ</h2>
    <p>Forever yours Jinggoykow üòåüíò</p>
</div>

<script>

var score = 0;
var target = 14;
var gameEnded = false;

function createHeart(){

    if(gameEnded) return;

    var heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "‚ù§Ô∏è";

    heart.style.left = Math.random() * 90 + "vw";

    heart.onclick = function(){

        if(gameEnded) return;

        score++;
        document.getElementById("score").innerHTML = 
            "Hearts: " + score + " / 14";

        heart.remove();

        if(score === target){
            cinematicMode();
        }
    };

    document.body.appendChild(heart);

    setTimeout(function(){
        if(!gameEnded){
            heart.remove();
        }
    },6000);
}

setInterval(createHeart,900);


/* ===== CINEMATIC MODE ===== */

function cinematicMode(){

    gameEnded = true;

    // Screen pulse
    document.body.style.transition = "background 0.4s ease";
    document.body.style.background = "#33001a";

    setTimeout(function(){
        document.body.style.background = "black";
    },400);

    // Vibration (mobile)
    if(navigator.vibrate){
        navigator.vibrate(200);
    }

    // Glitter explosion
    for(var i=0;i<30;i++){

        var sparkle = document.createElement("div");
        sparkle.className = "explosion";
        sparkle.innerHTML = Math.random() > 0.5 ? "‚ú®" : "üíñ";

        sparkle.style.left = Math.random()*100 + "vw";
        sparkle.style.top = Math.random()*100 + "vh";

        document.body.appendChild(sparkle);

        setTimeout(function(el){
            return function(){ el.remove(); };
        }(sparkle),1000);
    }

    // Show win message after burst
    setTimeout(function(){
        document.getElementById("winMessage").style.display="block";
    },500);
}

</script>

</body>
</html>

