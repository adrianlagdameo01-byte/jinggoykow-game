<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Operation Steal Jinggoykow's Heart ğŸ’˜</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    overflow: hidden;
    font-family: 'Press Start 2P', cursive;
    background: black;
    color: white;
    text-align: center;
}

canvas#spaceBG, canvas#fireworksCanvas {
    position: fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    z-index:-3;
}

.line { opacity: 0; transition: opacity 3s ease; font-size: 1.2em; }
.line1 { color: pink; }
.line2 { color: hotpink; }
.line3 { color: yellow; }
.line4 { color: lightblue; }
.line5 { color: lightgreen; }

.glow { text-shadow:0 0 15px pink,0 0 25px hotpink,0 0 35px red; }

.heart {
    position:absolute;
    font-size:35px;
    cursor:pointer;
    filter: drop-shadow(0 0 10px #ff69b4) drop-shadow(0 0 20px #ff1493);
}

#score, #catchMessage { font-size:18px; margin-top:10px; opacity:1; transition: opacity 1.5s ease; }

#gameOver,#finalScreen,#finalLine,#winBox{ display:none; width:100%; text-align:center; }

#gameOver { position:fixed; bottom:20%; width:100%; }

#gameOverBox {
    display:inline-block;
    background:#111;
    border:2px solid hotpink;
    padding:20px 30px;
    border-radius:15px;
}

#winBox {
    position:fixed;
    bottom:10%;
    left:50%;
    transform:translateX(-50%);
    background:black;
    border:2px solid pink;
    padding:20px 30px;
    border-radius:15px;
    font-size:1.2em;
    color:white;
    opacity:0;
    transition: opacity 0.5s ease;
}

button{
    padding:12px 20px;
    font-size:14px;
    border:none;
    border-radius:25px;
    margin:10px;
    cursor:pointer;
    font-family: 'Press Start 2P', cursive;
}

#yesBtn{ background:white; color:hotpink; display:none; }
#noBtn{ background:black; color:white; position:absolute; display:none; }

.explosion{ position:absolute; font-size:25px; animation:explode 1s ease-out forwards; }

@keyframes explode{
    from{transform:scale(1);opacity:1;}
    to{transform:scale(3);opacity:0;}
}

@keyframes floatUp{ from{top:100vh;} to{top:-10vh;} }
@keyframes floatDown{ from{top:-10vh;} to{top:100vh;} }
@keyframes floatLeft{ from{left:100vw;} to{left:-10vw;} }
@keyframes floatRight{ from{left:-10vw;} to{left:100vw;} }

#finalLine{
    font-size:1.3em;
    color:pink;
    text-shadow:0 0 15px pink,0 0 25px hotpink,0 0 35px red;
    opacity:0;
    transition:opacity 3s;
    top:70%;
}
</style>
</head>

<body>

<canvas id="spaceBG"></canvas>
<canvas id="fireworksCanvas"></canvas>

<h1>Operation Steal Jinggoykow's Heart ğŸ’˜</h1>
<p id="catchMessage">Catch 14 hearts to win ğŸ˜Œ</p>
<div id="score">Hearts: 0</div>

<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" type="audio/mpeg">
</audio>

<div id="gameOver">
    <div id="gameOverBox">
        <h2>ğŸ’” GAME OVER ğŸ’”</h2>
        <p>You missed too many hearts...</p>
        <button onclick="continueGame()">Try Again</button>
    </div>
</div>

<div id="winBox">ğŸ‰ Great Job your Highness! ğŸ‰</div>

<div id="finalScreen">
    <div id="message">
        <div class="line line1">Jinggoykowâ€¦</div>
        <div class="line line2">You caught the hearts â¤ï¸</div>
        <div class="line line3">But honestly?</div>
        <div class="line line4">You already had mine from the beginning.</div>
        <div class="line line5">Do I have yours too? ğŸ’–</div>
    </div>
    <br>
    <button id="yesBtn" onclick="yesClicked()">YES ğŸ’–</button>
    <button id="noBtn">NO ğŸ˜¢</button>
</div>

<div id="finalLine">I'm forever yours Jinggoykow â¤ï¸ğŸ’–ğŸ˜ğŸ¥° Happy Heart's Day! ğŸ’˜ğŸ’</div>

<script>

// SAFE cinematic effect
function cinematicExplosion(){
    document.body.style.transition="transform 0.4s ease";
    document.body.style.transform="scale(1.05)";
    setTimeout(function(){
        document.body.style.transform="scale(1)";
    },400);

    if(navigator.vibrate){
        navigator.vibrate(200);
    }

    for(var i=0;i<30;i++){
        var boom=document.createElement("div");
        boom.className="explosion";
        boom.innerHTML = (Math.random()>0.5)?"ğŸ’–":"âœ¨";
        boom.style.left=Math.random()*100+"vw";
        boom.style.top=Math.random()*100+"vh";
        document.body.appendChild(boom);
        setTimeout(function(el){ return function(){ el.remove(); }; }(boom),1000);
    }
}

// simple hearts test (so you see it working immediately)
var score=0;
function createHeart(){
    var heart=document.createElement("div");
    heart.className="heart";
    heart.innerHTML="â¤ï¸";
    heart.style.left=Math.random()*90+"vw";
    heart.style.top=Math.random()*90+"vh";

    heart.onclick=function(){
        score++;
        document.getElementById("score").innerText="Hearts: "+score;

        if(score===14){
            cinematicExplosion();
        }

        heart.remove();
    };

    document.body.appendChild(heart);
}

setInterval(createHeart,1000);

</script>

</body>
</html>

